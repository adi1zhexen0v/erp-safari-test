import { useState } from "react";
import { DocumentText1 } from "iconsax-react";
import { useTranslation } from "react-i18next";
import { Button, ModalForm, Toast, Prompt } from "@/shared/ui";
import { useAppSelector } from "@/shared/hooks";
import { formatDateDDMMYYYY, formatPrice } from "@/shared/utils";
import type { ServiceContractPreviewData } from "../types";

interface Props {
  formData: ServiceContractPreviewData;
  onClose: () => void;
  onSubmit?: () => Promise<{ id: number; data: unknown } | null>;
  hasBackground: boolean;
  editId?: number;
  onSuccess?: (isEdit: boolean) => void;
  readOnly?: boolean;
}

export default function ServiceContractPreviewModal({
  formData,
  onClose,
  onSubmit,
  hasBackground = false,
  editId,
  onSuccess,
  readOnly = false,
}: Props) {
  const { t } = useTranslation("LegalTemplatesPage");
  const userData = useAppSelector((state) => state.auth.data?.user);
  const [error, setError] = useState<string | null>(null);
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [showSuccessPrompt, setShowSuccessPrompt] = useState(false);
  const isEditMode = !!editId;

  function handleSuccessPromptClose() {
    setShowSuccessPrompt(false);
  }

  async function handleSubmit() {
    if (!onSubmit) return;

    try {
      setError(null);
      setIsSubmitting(true);

      await onSubmit();

      setShowSuccessPrompt(true);
      onClose();
      if (onSuccess) {
        onSuccess(isEditMode);
      }
    } catch (err: unknown) {
      const apiError = err as { data?: { error?: string; message?: string; detail?: string } };
      const errorMessage =
        apiError?.data?.error ||
        apiError?.data?.message ||
        apiError?.data?.detail ||
        (isEditMode ? t("forms.serviceContract.errors.updateFailed") : t("forms.serviceContract.errors.createFailed"));
      setError(errorMessage);
    } finally {
      setIsSubmitting(false);
    }
  }

  return (
    <ModalForm icon={DocumentText1} onClose={onClose} resize hasBackground={hasBackground}>
      <div className="flex flex-col justify-between h-full">
        <div className="flex flex-col gap-2 pb-5 border-b surface-base-stroke">
          <h4 className="text-display-2xs content-base-primary">{t("forms.serviceContract.previewTitle")}</h4>
        </div>

        <div className="flex-1 overflow-auto page-scroll pr-5 pt-5">
          <div className="flex flex-col text-body-regular-md content-base-primary">
            <table className="w-full border-collapse mb-6">
              <tbody>
                <tr>
                  <td className="p-4 border border-gray-300 align-top text-center">
                    <h1 className="text-2xl font-bold mb-4">
                      ӨТЕУЛІ ҚЫЗМЕТ КӨРСЕТУ ШАРТЫ {editId ? `№${editId}` : ""}
                    </h1>

                    <div className="flex justify-between text-sm mb-3">
                      <span>
                        <strong>{formData.contract_city || "_____________"}</strong> қ.
                      </span>
                      <strong>{formData.contract_date || "_____________"}</strong>
                    </div>
                    <div>
                      <p className="mt-3 text-left">
                        Бұдан әрі «Тапсырыс беруші» деп аталатын{" "}
                        <strong>{userData?.organization || "_____________"}</strong> атынан Жарғы негізінде әрекет
                        ететін директор <strong>{userData?.full_name || "_____________"}</strong>, бір тараптан, және
                        Қазақстан Республикасының азаматшасы{" "}
                        <strong>{formData.executor_full_name || "_____________"}</strong>, бұдан әрі «Орындаушы» деп
                        аталып, екінші тараптан, бұдан әрі бірлесіп «Тараптар» деп аталып, төмендегі өтеулі қызмет
                        көрсету туралы шарт (бұдан әрі – Шарт) жасасты:
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top text-center">
                    <h1 className="text-2xl font-bold mb-4">
                      ДОГОВОР ВОЗМЕЗДНОГО ОКАЗАНИЯ УСЛУГ {editId ? `№${editId}` : ""}
                    </h1>
                    <div className="flex justify-between text-sm mb-3">
                      <span>
                        г. <strong>{formData.contract_city || "_____________"}</strong>
                      </span>
                      <strong>{formData.contract_date || "_____________"}</strong>
                    </div>
                    <div>
                      <p className="mt-3 text-left">
                        <strong>{userData?.organization || "_____________"}</strong>, именуемое в дальнейшем «Заказчик»,
                        в лице действующего на основании Устава директора{" "}
                        <strong>{userData?.full_name || "_____________"}</strong>, с одной стороны, и гражданка
                        Республики Казахстан <strong>{formData.executor_full_name || "_____________"}</strong>,
                        именуемая в дальнейшем «Исполнитель», далее совместно именуемые «Стороны», заключили договор
                        возмездного оказания услуг (далее – Договор) о нижеследующем:
                      </p>
                    </div>
                  </td>
                </tr>
                {/* Раздел 1: Предмет Договора */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">1. ШАРТТЫҢ МӘНІ</h2>
                    <div>
                      <p className="mb-2">
                        1.1. Орындаушы осы Шартқа қосымшада көрсетілген, осы Шарттың ажырамас бөлігі болып табылатын,
                        Тапсырыс берушінің тапсырмасы бойынша қызметтерді (бұдан әрі - Қызметтер) көрсетуге
                        міндеттенеді, ал Тапсырыс беруші осы қызметтерді төлеуге міндеттенеді.
                      </p>

                      <p className="mb-2">1.2. Қызметтер көрсету мерзімі осы Шартқа 1-қосымшада көрсетілген.</p>

                      <p className="mb-2">
                        1.3. Осы Шартты қол қоя отырып, Орындаушы оның осы Шартты жасасу және орындау үшін қажетті
                        тәжірибесі, ресурстары және рұқсаттары (қажет болған жағдайда) бар екенін растайды.
                      </p>

                      <p className="mb-2">
                        1.4. Қызметтер Орындаушының өз қалауы бойынша көрсетіледі, және Қызметтерді материалдармен,
                        сондай-ақ оларды көрсету үшін қажетті жабдықтармен материалдық қамтамасыз етудің жалпы
                        міндеттемесі Орындаушыға жүктеледі.
                      </p>

                      <p className="mb-2">
                        1.5. Осы Шарт азаматтық-құқықтық шарт болғандықтан, Тапсырыс беруші Орындаушыға Қазақстан
                        Республикасының еңбек заңнамасында көзделген жеңілдіктерді, өтемақылар мен кепілдіктерді
                        жүргізбейді.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">1. ПРЕДМЕТ ДОГОВОРА</h2>
                    <div>
                      <p className="mb-2">
                        1.1. Исполнитель обязуется оказать услуги (далее - Услуги) согласно Приложению к настоящему
                        Договору, являющемуся неотъемлемой частью настоящего Договора, по заданию Заказчика, а Заказчик
                        обязуется оплатить эти услуги.
                      </p>

                      <p className="mb-2">1.2. Срок оказания услуг указан в Приложении 1 к настоящему Договору.</p>

                      <p className="mb-2">
                        1.3. Подписывая настоящий Договор, Исполнитель подтверждает, что он имеет необходимый опыт,
                        ресурсы и разрешения (при необходимости) для заключения и выполнения условий настоящего
                        Договора.
                      </p>

                      <p className="mb-2">
                        1.4. Услуги оказываются по усмотрению Исполнителя, и общая обязанность по материальному
                        обеспечению Услуг материалами, а также оборудованием, необходимым для их оказания, лежит на
                        Исполнителе.
                      </p>

                      <p className="mb-2">
                        1.5. Поскольку настоящий Договор является гражданско-правовым договором, Заказчик не
                        предоставляет Исполнителю льготы, компенсации и гарантии в пользу Исполнителя, предусмотренные
                        трудовым законодательством Республики Казахстан.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 2: Сумма Договора и условия оплаты */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">2. ШАРТТЫҢ СОМАСЫ ЖӘНЕ ТӨЛЕМ ТАЛАПТАРЫ</h2>
                    <div>
                      <p className="mb-2">
                        2.1. Осы Шарт бойынша Қызметтердің жалпы сомасы осы Шарт бойынша Қызметтер көрсету үшін қажетті
                        барлық шығыстарды (салықтар, баждар және Қазақстан Республикасының заңнамасында көзделген басқа
                        да міндетті төлемдер мен алымдар, көлік шығыстарының және қызметтер көрсетуді аяқтау процесінде
                        қажетті өзге де Қызметтердің ақысы, Орындаушының бағасын басқа да құраушылар) құрайтын{" "}
                        <strong>
                          {formData.contract_amount ? formatPrice(formData.contract_amount) : "_____________"}
                        </strong>{" "}
                        (<strong>{formData.contract_amount_kk_text || "_____________"}</strong>) теңге.
                      </p>

                      <p className="mb-2">
                        2.2. Тапсырыс беруші Орындаушыға көрсетілген Қызметтер үшін осы Шартқа 1-қосымшада көрсетілген
                        мөлшерде ақы төлеуді жүзеге асырады, түпкілікті есеп айырысуды Тапсырыс беруші төлем көзінен
                        жеке табыс салығын, міндетті зейнетақы жарналары мен міндетті әлеуметтік медициналық сақтандыру
                        жарналарын Қазақстан Республикасының заңнамасына сәйкес төлеуге жататын сомадан ұстап (бұдан әрі
                        – міндетті төлемдер), қолма-қол ақшасыз есеп айырысумен (Орындаушының карта-шотына), осы Шарттың
                        10-бөлімінде көрсетілген деректемелер бойынша жүргізеді.
                      </p>

                      <p className="mb-2">
                        2.3. Тапсырыс беруші Орындаушының осы Шарт бойынша нақты көрсеткен Қызметтер үшін ай сайынғы
                        төлемін Тараптар қол қойған көрсетілген қызметтер актісін қол қойылған күннен бастап 10 (он)
                        жұмыс күнінен кешіктірмей жүргізеді.
                      </p>

                      <p className="mb-2">
                        2.4. Төлем алдындағы қажетті құжаттар: көрсетілген қызметтердің қол қойылған актісі.
                      </p>

                      <p className="mb-2">
                        2.5. Міндетті төлемдердің мөлшері өзгерген жағдайда, осы Шарттың сомасы өзгеріссіз қалады.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">2. СУММА ДОГОВОРА И УСЛОВИЯ ОПЛАТЫ</h2>
                    <div>
                      <p className="mb-2">
                        2.1. Сумма настоящего Договора составляет{" "}
                        <strong>
                          {formData.contract_amount ? formatPrice(formData.contract_amount) : "_____________"}
                        </strong>{" "}
                        (<strong>{formData.contract_amount_ru_text || "_____________"}</strong>) тенге, которая включает
                        все расходы (налоги, пошлины и другие обязательные платежи и сборы, предусмотренные
                        законодательством Республики Казахстан, стоимость транспортных расходов и прочих услуг, которые
                        необходимы в процессе и для завершения оказания Услуг, другие составляющие цены Исполнителя),
                        необходимые для оказания Услуг по настоящему Договору.
                      </p>

                      <p className="mb-2">
                        2.2. Заказчик осуществляет Исполнителю за оказанные Услуги оплату в размере, указанном в
                        Приложении 1 к настоящему Договору, окончательный расчет производится Заказчиком с удержанием у
                        источника выплаты индивидуального подоходного налога, обязательных пенсионных взносов и взносов
                        на обязательное социальное медицинское страхование от подлежащей к оплате суммы, в соответствии
                        с законодательством Республики Казахстан (далее – обязательные платежи), безналичным расчетом
                        (на карт-счет Исполнителя), по реквизитам, указанным в разделе 10 настоящего Договора.
                      </p>

                      <p className="mb-2">
                        2.3. Оплата производится Заказчиком за фактически оказанные Услуги Исполнителем по настоящему
                        Договору не позднее 10 (десяти) рабочих дней со дня подписания Сторонами Акта оказанных услуг.
                      </p>

                      <p className="mb-2">
                        2.4. Необходимые документы, предшествующие оплате: подписанный акт оказанных услуг.
                      </p>

                      <p className="mb-2">
                        2.5. При изменении размеров обязательных платежей, сумма настоящего Договора остается
                        неизменной.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 3: Права и обязанности Сторон */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">3. ТАРАПТАРДЫҢ ҚҰҚЫҚТАРЫ МЕН МІНДЕТТЕРІ</h2>
                    <div>
                      <p className="mb-2">3.1. Тапсырыс беруші:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) көрсетілген қызметтер актісі негізінде осы Шарт бойынша көрсетілген қызметтерге ақы төлеуді
                          жүргізу;
                        </p>
                        <p>
                          2) осы Шарттың талаптары мен шарттарына сәйкес болған жағдайда, көрсетілген қызметтерді актісі
                          бойынша Қызметтерді қабылдауға;
                        </p>
                        <p>
                          3) Орындаушыны көрсетілген Қызметтердің кемшіліктері анықталған туралы хабарлама жолдау арқылы
                          ақпараттандыруға;
                        </p>
                        <p>
                          4) егер Орындаушы субъектінің дербес деректеріне, коммерциялық, қызметтік және заңнамамен
                          қорғалатын өзге де құпияға қатысты мәліметтерге байланысты қызметтер көрсететін болса,
                          Орындаушыдан Шартқа 2-қосымшада көрсетілген нысан бойынша субъектінің дербес деректерін,
                          коммерциялық, қызметтік және заңнамамен қорғалатын өзге де құпияны жария етпеу туралы
                          міндеттеме алуға міндеттенеді.
                        </p>
                      </div>

                      <p className="mb-2">3.2. Тапсырыс беруші:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) егер Орындаушы осы Шартта белгіленген мерзімде Қызметтерді көрсетуге кіріспесе немесе егер
                          Орындаушы осы Шарт бойынша қандай да бір басқа өз міндеттемелерін орындай алмаса, осы Шартты
                          орындаудан біржақты бас тартуға;
                        </p>
                        <p>2) Орындаушы орындайтын Қызметтердің барысы мен сапасын тексеруге;</p>
                        <p>3) қызметтерді осы Шартта белгіленген көлем мен мерзімдерде көрсетуді талап етуге құқылы.</p>
                      </div>

                      <p className="mb-2">3.3. Орындаушы:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) осы Шарттың қолданылу кезеңінде, осы Шарттың талаптарына сәйкес, Қызметтерді сапалы,
                          уақытылы және толық көлемде көрсетуге;
                        </p>
                        <p>
                          2) Тапсырыс берушінің талабы бойынша көрсетілген Қызметтердегі барлық анықталған кемшіліктерді
                          тегін түзетуге;
                        </p>
                        <p>
                          3) Қызметтерді көрсету кезінде қауіпсіздік техникасы, өндірістік санитария, еңбекті қорғау
                          және өртке қарсы қауіпсіздік ережелерін, сондай-ақ Тапсырыс берушінің аумағындағы басқа
                          талаптарды сақтауға;
                        </p>
                        <p>
                          4) Қызметтерді көрсету процесінде немесе Шарттың қолданылуы тоқтағаннан кейін Орындаушыға
                          белгілі болған кез келген ақпаратты (деректер, материалдар, құжаттар), егер ол қызметтік
                          болса, жария етпеуге;
                        </p>
                        <p>
                          5) құпиялы ақпараттың жария болуы немесе жария болу қаупі туындаған жағдайда, алушы Тарап
                          дереу беруші Тарапты хабардар етуге міндетті;
                        </p>
                        <p>
                          6) Орындаушыда Қызметтерді уақытылы көрсетуге кедергі келтіретін жағдайлар туындаған жағдайда,
                          Орындаушы дереу жазбаша түрде Тапсырыс берушіге мұндай жағдайлардың фактісі, болжамды
                          ұзақтығы, пайда болу себептері туралы хабарлауға, растайтын құжаттарды қоса отырып, міндетті.
                          Мұндай жағдай туындаған кезде, Тапсырыс беруші нақты көрсетілген Қызметтер бойынша қайта
                          есептеуді жүргізеді;
                        </p>
                        <p>7) Қызметтерді жеке көрсетуге;</p>
                        <p>
                          8) субъектінің дербес деректерін, коммерциялық, қызметтік және заңнамамен қорғалатын өзге де
                          құпияны жария етпеу туралы міндеттемені қол қоюға.
                        </p>
                      </div>

                      <p className="mb-2">3.4. Орындаушы:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) Шарт бойынша міндеттемелерді Тапсырыс берушінің кінәсінен болған жағдайды қоспағанда, осы
                          Шартты бұзудан туындаған шығындарды Тапсырыс берушіге толық өтеу шартымен ғана орындаудан бас
                          тартуға;
                        </p>
                        <p>
                          2) Тапсырыс берушіден осы Шартқа сәйкес ұсынылатын қызметтер нәтижелеріне уақытылы төлем
                          жасауды талап етуге құқылы.
                        </p>
                      </div>

                      <p className="mb-2">3.2. Тапсырыс беруші:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) егер Орындаушы осы Шартта белгіленген мерзімде Қызметтерді көрсетуге кіріспесе немесе егер
                          Орындаушы осы Шарт бойынша қандай да бір басқа өз міндеттемелерін орындай алмаса, осы Шартты
                          орындаудан біржақты бас тартуға;
                        </p>
                        <p>2) Орындаушы орындайтын Қызметтердің барысы мен сапасын тексеруге;</p>
                        <p>3) қызметтерді осы Шартта белгіленген көлем мен мерзімдерде көрсетуді талап етуге құқылы.</p>
                      </div>

                      <p className="mb-2">3.3. Орындаушы:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) осы Шарттың қолданылу кезеңінде, осы Шарттың талаптарына сәйкес, Қызметтерді сапалы,
                          уақытылы және толық көлемде көрсетуге;
                        </p>
                        <p>
                          2) Тапсырыс берушінің талабы бойынша көрсетілген Қызметтердегі барлық анықталған кемшіліктерді
                          тегін түзетуге;
                        </p>
                        <p>
                          3) Қызметтерді көрсету кезінде қауіпсіздік техникасы, өндірістік санитария, еңбекті қорғау
                          және өртке қарсы қауіпсіздік ережелерін, сондай-ақ Тапсырыс берушінің аумағындағы басқа
                          талаптарды сақтауға;
                        </p>
                        <p>
                          4) Қызметтерді көрсету процесінде немесе Шарттың қолданылуы тоқтағаннан кейін Орындаушыға
                          белгілі болған кез келген ақпаратты (деректер, материалдар, құжаттар), егер ол қызметтік
                          болса, жария етпеуге;
                        </p>
                        <p>
                          5) құпиялы ақпараттың жария болуы немесе жария болу қаупі туындаған жағдайда, алушы Тарап
                          дереу беруші Тарапты хабардар етуге міндетті;
                        </p>
                        <p>
                          6) Орындаушыда Қызметтерді уақытылы көрсетуге кедергі келтіретін жағдайлар туындаған жағдайда,
                          Орындаушы дереу жазбаша түрде Тапсырыс берушіге мұндай жағдайлардың фактісі, болжамды
                          ұзақтығы, пайда болу себептері туралы хабарлауға, растайтын құжаттарды қоса отырып, міндетті.
                          Мұндай жағдай туындаған кезде, Тапсырыс беруші нақты көрсетілген Қызметтер бойынша қайта
                          есептеуді жүргізеді;
                        </p>
                        <p>7) Қызметтерді жеке көрсетуге;</p>
                        <p>
                          8) субъектінің дербес деректерін, коммерциялық, қызметтік және заңнамамен қорғалатын өзге де
                          құпияны жария етпеу туралы міндеттемені қол қоюға.
                        </p>
                      </div>

                      <p className="mb-2">3.4. Орындаушы:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) Шарт бойынша міндеттемелерді Тапсырыс берушінің кінәсінен болған жағдайды қоспағанда, осы
                          Шартты бұзудан туындаған шығындарды Тапсырыс берушіге толық өтеу шартымен ғана орындаудан бас
                          тартуға;
                        </p>
                        <p>
                          2) Тапсырыс берушіден осы Шартқа сәйкес ұсынылатын қызметтер нәтижелеріне уақытылы төлем
                          жасауды талап етуге құқылы.
                        </p>
                      </div>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">3. ПРАВА И ОБЯЗАННОСТИ СТОРОН</h2>
                    <div>
                      <p className="mb-2">3.1. Заказчик обязуется:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) производить оплату оказанных Услуг по настоящему Договору на основании акта оказанных
                          услуг;
                        </p>
                        <p>
                          2) принимать Услуги по акту оказанных услуг, в случае их соответствия требованиям и условиям
                          настоящего Договора;
                        </p>
                        <p>
                          3) проинформировать Исполнителя об обнаружении недостатков оказанных Услуг путем направления
                          уведомления;
                        </p>
                        <p>
                          4) получить у Исполнителя обязательство о неразглашении персональных данных субъекта,
                          коммерческой, служебной и иной охраняемой законодательством тайны по форме, указанной в
                          приложении 2 к Договору, в случае если Исполнитель будет оказывать услуги, связанные со
                          сведениями, относящимися к персональным данным субъекта, коммерческой, служебной и иной
                          охраняемой законодательством тайне.
                        </p>
                      </div>

                      <p className="mb-2">3.2. Заказчик имеет право:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) на односторонний отказ от исполнения настоящего Договора в случае, если Исполнитель не
                          приступает к оказанию Услуг в установленный настоящим Договором срок, либо в случае, если
                          Исполнитель не может выполнить какие-либо другие свои обязательства по настоящему Договору;
                        </p>
                        <p>2) проверять ход и качество Услуг, выполняемых Исполнителем;</p>
                        <p>3) требовать оказания услуг в объёме и сроки, установленные настоящим Договором.</p>
                      </div>

                      <p className="mb-2">3.3. Исполнитель обязуется:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) в течение срока действия настоящего Договора, в соответствии с требованиями настоящего
                          Договора, оказывать Услуги качественно, своевременно и в полном объеме;
                        </p>
                        <p>
                          2) устранять все выявленные недостатки в оказанных Услугах безвозмездно, по требованию
                          Заказчика;
                        </p>
                        <p>
                          3) при оказании Услуг соблюдать правила техники безопасности, производственной санитарии,
                          охраны труда и противопожарной безопасности, а также иные требования на территории Заказчика;
                        </p>
                        <p>
                          4) не разглашать любую информацию (данные, материалы, документы), ставшую известной
                          Исполнителю в процессе оказания Услуг или после прекращения действия Договора, если она
                          является служебной;
                        </p>
                        <p>
                          5) в случае разглашения или угрозы разглашения конфиденциальной информации, получающая Сторона
                          обязана незамедлительно уведомить передающую Сторону;
                        </p>
                        <p>
                          6) в случае возникновения у Исполнителя обстоятельств, препятствующих своевременному оказанию
                          Услуг, Исполнитель обязан незамедлительно в письменной форме уведомить Заказчика о факте,
                          предполагаемой продолжительности, причинах возникновения таких обстоятельств, приложив
                          подтверждающие документы. При наступлении такого случая, Заказчик производит перерасчет по
                          фактически оказанным Услугам;
                        </p>
                        <p>7) оказывать Услуги лично;</p>
                        <p>
                          8) подписать обязательство о неразглашении персональных данных субъекта, коммерческой,
                          служебной и иной охраняемой законодательством тайны.
                        </p>
                      </div>

                      <p className="mb-2">3.4. Исполнитель имеет право:</p>
                      <div className="ml-6 mb-2">
                        <p>
                          1) отказаться от исполнения обязательств по настоящему Договору лишь при условии полного
                          возмещения Заказчику убытков, причиненных расторжением настоящего Договора, кроме случая,
                          когда это произошло по вине Заказчика;
                        </p>
                        <p>
                          2) требовать от Заказчика своевременной оплаты по результатам оказанных Услуг в соответствии с
                          условиями настоящего Договора.
                        </p>
                      </div>
                    </div>
                  </td>
                </tr>

                {/* Раздел 4: Конфиденциальность */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">4. ҚҰПИЯЛЫЛЫҚ</h2>
                    <div>
                      <p className="mb-2">
                        4.1. Тараптар осы Шартты орындау барысында алынған ақпараттың қатаң құпиялылығын сақтауға және
                        алынған ақпаратты жария болудан қорғау үшін барлық мүмкін шараларды қабылдауға міндеттенеді.
                      </p>

                      <p className="mb-2">
                        4.2. Құпия ақпаратты Тапсырыс берушінің (тапсырушы Тараптың) келісімінсіз беруге болмайды.
                        Қазақстан Республикасының уәкілетті мемлекеттік органдарынан Қабылдаушы тарапқа құпия ақпаратты
                        беру туралы негізделген талап болған жағдайда, Қабылдаушы тарап дереу беруші Тарапты мұндай
                        талап туралы хабардар етуге және беруші Тарапқа құпия ақпаратты қорғау шараларын қабылдау
                        мүмкіндігін беруге міндетті.
                      </p>

                      <p className="mb-2">
                        4.3. Құпия ақпарат Тапсырыс берушінің меншігі болып қалады, және Тапсырыс беруші кез келген
                        уақытта Орындаушыға жазбаша хабарлама жіберу арқылы мұндай ақпараттың барлығын немесе бір
                        бөлігін қайтаруды талап етуге құқылы. Мұндай хабарламаны алғаннан кейін Орындаушы 15 (он бес)
                        күнтізбелік күн ішінде және өз есебінен осы Шарт бойынша акттер бойынша берілген құпия
                        ақпараттың барлық түпнұсқалары мен көшірмелерін, форматқа қарамастан, Орындаушының немесе құпия
                        ақпарат берілген адамдардың иелігіндегілерді қайтаруға міндетті.
                      </p>

                      <p className="mb-2">
                        4.4. Орындаушы таңдаған жойылатын құпия ақпарат, оптикалық тасымалдағыштарға,
                        флеш-накопительдерге, магниттік дисктерге жазылған, бөлек актпен ресімделуі керек. Жойылуға
                        таңдалған «Құпия» деп белгіленген құжаттар, файлдар және басылымдар мәтінді оқу мүмкін етпейтін
                        дәрежеге дейін ұсақталуы керек. «Құпия» деп белгіленген заттарды жойғаннан кейін тіркеу есептеме
                        формаларына «Жойылды. (күні) күнінен № акт» белгісі қойылады. Қабылдау-беру актісінің және Құпия
                        ақпаратты жою актісінің бір данасы Тапсырыс берушіге беріледі.
                      </p>

                      <p className="mb-2">
                        4.5. Орындаушы осы Шарттың құпиялылығын қамтамасыз етуге міндетті және осы Шарт бойынша құпия
                        ақпаратты беруге байланысты кез келген ақпаратты үшінші тұлғаларға жария етуге құқығы жоқ,
                        сондай-ақ құжаттардың, файлдардың, басылымдардың және электрондық ақпарат тасымалдағыштарының
                        жоғалу фактілері, «Құпия» деп белгіленген ақпаратқа рұқсатсыз қол жеткізу немесе ондағы
                        ақпаратты жария ету туралы дереу Тапсырыс берушіні хабардар етуге міндетті.
                      </p>

                      <p className="mb-2">
                        4.6. Тапсырыс берушінің Орындаушыға электрондық және қағаз тасымалдағыштардағы ақпаратты беру
                        кезінде Тапсырыс берушінің құжаттама қызметінің талаптары, соның ішінде барлық құпия құжаттарды
                        міндетті тіркеу және есепке алу, сондай-ақ оларды Орындаушыға тізімде қол қою арқылы беру және
                        қабылдау-беру актісіне енгізу сақталуы керек.
                      </p>

                      <p className="mb-2">
                        4.7. Ақпаратты жария етуге қатысты шектеулер жалпыға қолжетімді ақпаратқа немесе Тараптардың
                        кінәсінен емес, мұндай болған ақпаратқа қолданылмайды.
                      </p>

                      <p className="mb-2">
                        4.8. Тараптар Қазақстан Республикасының заңнамасына сәйкес оны талап етуге құқығы бар
                        субъектілерге ақпарат беру жағдайында жауапкершілікте болмайды.
                      </p>

                      <p className="mb-2">
                        4.9. Ақпараттың құпиялылығын сақтау міндеттемесі осы Шарттың қолданылу уақытында және оның
                        қолданылуы тоқтағаннан кейін 3 (үш) жыл бойы жарамды.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">4. КОНФИДЕНЦИАЛЬНОСТЬ</h2>
                    <div>
                      <p className="mb-2">
                        4.1. Стороны обязуются сохранять строго конфиденциальность информации, полученной в ходе
                        исполнения настоящего Договора, и принять все возможные меры, чтобы предохранить полученную
                        информацию от разглашения.
                      </p>

                      <p className="mb-2">
                        4.2. Конфиденциальная информация не может быть передана без согласия Заказчика (передающей
                        Стороны). В случае обоснованного требования уполномоченных государственных органов Республики
                        Казахстан к получающей Стороне о передаче конфиденциальной информации, получающая Сторона
                        обязана незамедлительно уведомить передающую Сторону о таком требовании и предоставить
                        передающей Стороне возможность принять меры для защиты конфиденциальной информации.
                      </p>

                      <p className="mb-2">
                        4.3. Конфиденциальная информация остается собственностью Заказчика, и Заказчик имеет право в
                        любое время потребовать возврата всей или части такой информации, направив Исполнителю
                        письменное уведомление. После получения такого уведомления Исполнитель обязан в течение 15
                        (пятнадцати) календарных дней и за свой счет вернуть все оригиналы и копии такой
                        конфиденциальной информации, независимо от формата, находящиеся в распоряжении Исполнителя или в
                        распоряжении лиц, которым конфиденциальная информация была передана согласно актам
                        приема-передачи по настоящему Договору.
                      </p>

                      <p className="mb-2">
                        4.4. Конфиденциальная информация, выбранная Исполнителем для уничтожения, записанная на
                        оптических носителях, флеш-накопителях, магнитных дисках, должна быть оформлена отдельным актом.
                        Документы, файлы и издания, помеченные «Конфиденциально», выбранные для уничтожения, должны быть
                        измельчены до степени, исключающей возможность прочтения текста. После уничтожения в формах
                        регистрационного учета ставится отметка «Уничтожено. Акт от (дата) №». Один экземпляр акта
                        приема-передачи и акта уничтожения Конфиденциальной информации передается Заказчику.
                      </p>

                      <p className="mb-2">
                        4.5. Исполнитель обязан обеспечить конфиденциальность настоящего Договора и не вправе разглашать
                        любую информацию, касающуюся предоставления конфиденциальной информации по настоящему Договору,
                        третьим лицам, а также незамедлительно уведомить Заказчика о фактах утраты документов, файлов,
                        изданий и электронных носителей информации, несанкционированного доступа к информации,
                        помеченной «Конфиденциально», или разглашения содержащейся в ней информации.
                      </p>

                      <p className="mb-2">
                        4.6. При передаче Заказчиком информации Исполнителю на электронных и бумажных носителях должны
                        соблюдаться требования службы делопроизводства Заказчика, включая обязательную регистрацию и
                        учет всех конфиденциальных документов, а также их передачу Исполнителю под подпись в реестре и
                        включение в акт приема-передачи.
                      </p>

                      <p className="mb-2">
                        4.7. Ограничения относительно разглашения информации не распространяются на общедоступную
                        информацию или информацию, ставшую таковой не по вине Сторон.
                      </p>

                      <p className="mb-2">
                        4.8. Стороны не несут ответственности в случае передачи информации субъектам, имеющим право ее
                        затребовать в соответствии с законодательством Республики Казахстан.
                      </p>

                      <p className="mb-2">
                        4.9. Обязательство по сохранению конфиденциальности информации действуют в течение времени
                        действия настоящего Договора и после прекращения его действия в течение 3 (трех) лет.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 5: Ответственность Сторон */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">5. ТАРАПТАРДЫҢ ЖАУАПКЕРШІЛІГІ</h2>
                    <div>
                      <p className="mb-2">
                        5.1. Тараптар осы Шартты орындамаған немесе тиісінше орындамаған жағдайда Қазақстан
                        Республикасының заңнамасына сәйкес жауаптылықта болады.
                      </p>

                      <p className="mb-2">
                        5.2. Орындаушының Шарт бойынша міндеттемелерді тиісінше орындамауы Тапсырыс берушінің Шарт
                        бойынша міндеттемелердің орындалуын тоқтату үшін негіз болып табылады.
                      </p>

                      <p className="mb-2">
                        5.3. Осы Шарт бойынша өз міндеттемелерін орындамаған немесе тиісінше орындамаған үшін, Тапсырыс
                        беруші Орындаушыдан осы Шарт сомасының 0,1% мөлшерінде, Орындаушының міндеттемелерін толық
                        орындамаған жағдайда әрбір күнге кешіктіру үшін, немесе міндеттемелерді тиісінше орындамаған
                        (ішінара орындамаған) жағдайда орындалмаған міндеттемелер сомасының 0,1% мөлшерінде әрбір күнге
                        кешіктіру үшін тұрақсыздық айыбын ұстайды (алып қалады), бірақ осы Шарттың жалпы сомасының
                        10%-ынан аспайды.
                      </p>

                      <p className="mb-2">
                        5.4. Шарттың 2.3-тармағында белгіленген төлем мерзімдері бұзылған жағдайда Тапсырыс беруші
                        Орындаушыға мерзімі өткен әрбір күн үшін ай сайынғы төленетін соманың 0,1% мөлшерінде, бірақ осы
                        Шарттың жалпы сомасының 10%-ынан аспайтын тұрақсыздық айыбын төлейді.
                      </p>

                      <p className="mb-2">
                        5.5. Орындаушы Қазақстан Республикасының заңнамасына және осы Шартқа сәйкес құпиялылықты сақтау
                        міндеттемелерін бұзғаны үшін жауаптылықта болады және осы Шартты Орындаушының тиісінше
                        орындамауына байланысты Тапсырыс берушіде туындаған барлық шығындарды Тапсырыс берушіге өтеуге
                        міндетті.
                      </p>

                      <p className="mb-2">
                        5.6. Орындаушы Құпия ақпаратқа қолжетімділік алған үшінші тұлғалардың осындай ақпаратты жария
                        еткені үшін толық көлемде жауаптылықта болады.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">5. ОТВЕТСТВЕННОСТЬ СТОРОН</h2>
                    <div>
                      <p className="mb-2">
                        5.1. В случае неисполнения или ненадлежащего исполнения условий настоящего Договора, Стороны
                        несут ответственность в соответствии с законодательством Республики Казахстан.
                      </p>

                      <p className="mb-2">
                        5.2. Ненадлежащее исполнение Исполнителем обязательств по настоящему Договору является
                        основанием для прекращения исполнения Заказчиком обязательств по настоящему Договору.
                      </p>

                      <p className="mb-2">
                        5.3. За неисполнение либо ненадлежащее исполнение взятых на себя обязательств по настоящему
                        Договору, Заказчик удерживает (взыскивает) с Исполнителя неустойку в размере 0,1% от суммы
                        настоящего Договора за каждый день просрочки в случае полного неисполнения Исполнителем
                        обязательств, либо удерживает (взыскивает) неустойку (штраф, пеню) в размере 0,1 % от суммы
                        неисполненных обязательств за каждый день просрочки в случае ненадлежащего исполнения
                        (частичного неисполнения) обязательств, но не более 10% от общей суммы настоящего Договора.
                      </p>

                      <p className="mb-2">
                        5.4. В случае нарушения сроков оплаты, установленных в пункте 2.3. Договора Заказчик выплачивает
                        Исполнителю неустойку в размере 0,1% от ежемесячной оплачиваемой суммы за каждый день просрочки,
                        но не более 10% от общей суммы настоящего Договора.
                      </p>

                      <p className="mb-2">
                        5.5. Исполнитель несет ответственность за нарушение обязательств по сохранению
                        конфиденциальности в соответствии с законодательством Республики Казахстан и настоящим Договором
                        и обязана возместить Заказчику все убытки, возникшие у Заказчика в связи с ненадлежащим
                        исполнением Исполнителем настоящего Договора.
                      </p>

                      <p className="mb-2">
                        5.6. Исполнитель несет ответственность в полном объеме за разглашение Конфиденциальной
                        информации третьими лицами, получившими доступ к такой информации.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 6: Обстоятельства непреодолимой силы */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">6. ЕҢСЕРІЛМЕЙТІН КҮШ ЖАҒДАЙЛАРЫ (ФОРС-МАЖОР)</h2>
                    <div>
                      <p className="mb-2">
                        6.1. Егер бұл оларды Тараптар болжай алмайтын және Шарттың орындалуына тікелей әсер еткен: су
                        тасқыны, өрт, жер сілкінісі, табиғи апаттар, қоршау, ереуілдер, әскери іс-қимылдар, лаңкестік
                        актілер және басқа да осыған ұқсас еңсерілмейтін жағдай салдары болып табылса, Тараптар осы Шарт
                        бойынша өз міндеттемелерін орындамағаны немесе тиісінше орындамағаны үшін жауапкершіліктен
                        босатылады. Еңсерілмейтін жағдайлар әсеріне ұшыраған Тараптың міндеттемелерін орындау мерзімдері
                        осындай жағдайлар әрекеті кезеңіне ауыстырылады.
                      </p>

                      <p className="mb-2">
                        6.2. Осы Шарт бойынша өз міндеттемелерін орындауға мүмкін болмайтын Тарап дереу 3 (үш) күннен
                        кешіктірмей, осы Шарттың 5.1-тармағында көрсетілген жағдайлардың басталуы және тоқтатылуы туралы
                        екінші Тарапты хабардар етуге, сондай-ақ растайтын құжатты ұсынуға міндетті.
                      </p>

                      <p className="mb-2">
                        6.3. Хабарлама жасамау Тарапты жоғарыда көрсетілген кез келген жағдайға осы Шарт бойынша
                        міндеттемелерді орындамағаны үшін жауапкершіліктен босату негізі ретінде сілтеу құқығынан
                        айырады.
                      </p>

                      <p className="mb-2">
                        6.4. Егер осы Шарттың 5.1-тармағында көрсетілген жағдайлар 1 (бір) айдан асса, Тараптар осы Шарт
                        бойынша міндеттемелерді орындауды одан әрі жалғастырудан бас тартуға құқылы.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">
                      6. ОБСТОЯТЕЛЬСТВА НЕПРЕОДОЛИМОЙ СИЛЫ (ФОРС-МАЖОР)
                    </h2>
                    <div>
                      <p className="mb-2">
                        6.1. Стороны освобождаются от ответственности за невыполнение либо ненадлежащее выполнение своих
                        обязательств по настоящему Договору, если оно явилось следствием наступления обстоятельств
                        непреодолимой силы: наводнений, пожаров, землетрясений, стихийных бедствий, блокад, забастовок,
                        военных действий, террористических актов и иных подобных обстоятельств, которые Стороны не могли
                        предвидеть и которые непосредственно повлияли на исполнение настоящего Договора. Сроки
                        исполнения обязательств Стороной, подвергшейся влиянию обстоятельств непреодолимой силы,
                        передвигаются на период действия таких обстоятельств.
                      </p>

                      <p className="mb-2">
                        6.2. Сторона, для которой исполнение ее обязательств по настоящему Договору стало невозможным,
                        обязана незамедлительно, но не позднее 3 (трех) рабочих дней, уведомить другую Сторону о начале
                        и окончании обстоятельств, указанных в пункте 5.1 настоящего Договора, а также предоставить
                        подтверждающий документ.
                      </p>

                      <p className="mb-2">
                        6.3. Неуведомление лишает Сторону права ссылаться на любое из вышеуказанных обстоятельств как на
                        основание для освобождения от ответственности за неисполнение обязательств по настоящему
                        Договору.
                      </p>

                      <p className="mb-2">
                        6.4. В случае, если обстоятельства, указанные в пункте 5.1 настоящего Договора, длятся более 1
                        (одного) месяца, Стороны имеют право отказаться от дальнейшего исполнения обязательств по
                        настоящему Договору.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 7: Порядок разрешения споров */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">7. ДАУЛАРДЫ ШЕШУ ТӘРТІБІ</h2>
                    <div>
                      <p className="mb-2">
                        7.1. Тараптар арасында туындауы мүмкін даулар, соның ішінде осы Шартта реттелмеген, бірақ одан
                        туындайтын мәселелер бойынша, Тараптар арасында тікелей, бір-бірінің мүдделерін максималды
                        ескере отырып шешіледі.
                      </p>

                      <p className="mb-2">
                        7.2. Егер Тараптар келісімге келмесе, даулар Қазақстан Республикасының заңнамасына сәйкес
                        Тапсырыс берушінің орналасқан жеріндегі сотта шешіледі.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">7. ПОРЯДОК РАЗРЕШЕНИЯ СПОРОВ</h2>
                    <div>
                      <p className="mb-2">
                        7.1. Споры, которые могут возникнуть между Сторонами, в том числе по вопросам, не
                        урегулированным настоящим Договором, но вытекающим из него, разрешаются непосредственно между
                        Сторонами с максимальным учетом интересов друг друга.
                      </p>

                      <p className="mb-2">
                        7.2. В случае, если Стороны не достигнут соглашения, споры подлежат разрешению в суде по месту
                        нахождения Заказчика, в соответствии с законодательством Республики Казахстан.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 8: Условия внесения изменений и расторжения */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">
                      8. ШАРТҚА ӨЗГЕРІСТЕР ЕНГІЗУ ЖӘНЕ ОНЫ БҰЗУ ТАЛАПТАРЫ
                    </h2>
                    <div>
                      <p className="mb-2">
                        8.1. Осы Шарт талаптарын өзгерту және толықтыру туралы ұсыныс екінші Тарапқа жазбаша түрде
                        өзгертулер мен толықтырулар енгізу үшін ұсынылған күнге дейін кемінде күнтізбелік 10 (он) күн
                        бұрын жіберіледі.
                      </p>

                      <p className="mb-2">
                        8.2. Тараптардың келісімі бойынша Шартты бұзу туралы ұсыныс екінші Тарапқа жазбаша түрде
                        ұсынылған бұзу күніне дейін күнтізбелік 10 (он) күн бұрын жіберіледі.
                      </p>

                      <p className="mb-2">
                        8.3. Осы Шартты бұзу Тараптардың келісімі бойынша, сондай-ақ Шарт пен заңнамада көзделген
                        негіздер бойынша осы Шартты орындаудан біржақты бас тарту жағдайында мүмкін болады.
                      </p>

                      <p className="mb-2">
                        8.4. Осы Шартқа түзетулер енгізілген және Тараптардың келісімі бойынша Шарттың мерзімінен бұрын
                        бұзылу жағдайында, Тараптар өзара есеп айырысу актісін негізге ала отырып, нақты көрсетілетін
                        қызметтер бойынша өзара есеп айырысуды жүзеге асыруға міндетті;
                      </p>

                      <p className="mb-2">
                        8.5. Осы Шартты бұзу Тараптардың Шарт бұзылған сәтке дейін Шарт бойынша туындаған
                        міндеттемелерді орындаудан және жауапкершіліктен босатпайды.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">
                      8. УСЛОВИЯ ВНЕСЕНИЯ ИЗМЕНЕНИЙ И РАСТОРЖЕНИЯ НАСТОЯЩЕГО ДОГОВОРА
                    </h2>
                    <div>
                      <p className="mb-2">
                        8.1. Предложение об изменении, дополнении условий настоящего Договора направляется в письменной
                        форме другой Стороне в срок не менее чем за 10 (десять) календарных дней до предлагаемой даты
                        внесения изменений или дополнений.
                      </p>

                      <p className="mb-2">
                        8.2. Предложение о расторжении настоящего Договора по соглашению Сторон направляется в
                        письменной форме другой Стороне в срок не менее чем за 10 (десять) календарных дней до
                        предлагаемой даты расторжения.
                      </p>

                      <p className="mb-2">
                        8.3. Расторжение настоящего Договора возможно по соглашению Сторон, а также в случае
                        одностороннего отказа от исполнения Договора по основаниям, предусмотренным настоящим Договором
                        и законодательством Республики Казахстан.
                      </p>

                      <p className="mb-2">
                        8.4. В случаях внесения изменений в настоящий Договор и досрочного его расторжения по соглашению
                        Сторон, Стороны обязаны произвести взаиморасчеты между собой по фактически оказанным Услугам на
                        основании акта сверки взаиморасчетов;
                      </p>

                      <p className="mb-2">
                        8.5. Расторжение настоящего Договора не освобождает Стороны от исполнения обязательств и
                        ответственности по настоящему Договору, возникших до момента его расторжения.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 9: Прочие условия */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">9. ӨЗГЕ ДЕ ТАЛАПТАР</h2>
                    <div>
                      <p className="mb-2">
                        9.1. Осы Шарт әр Тарап үшін бір данадан бірдей заңды күші бар мемлекеттік және орыс тілдерінде 2
                        (екі) данада жасалды.
                      </p>

                      <p className="mb-2">
                        9.2. Орындаушының осы Шарт бойынша міндеттемелерін орындау орны осы Шартқа 1-қосымшада
                        көрсетілген.
                      </p>

                      <p className="mb-2">
                        9.3. Осы Шарт екі Тарап қол қойғаннан кейін күшіне енеді және ол{" "}
                        <strong>{formData.contract_end_date_kk || "_____________"}</strong> дейін жарамды.
                      </p>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">9. ПРОЧИЕ УСЛОВИЯ</h2>
                    <div>
                      <p className="mb-2">
                        9.1. Договор составлен на государственном и русском языках в 2 (двух) экземплярах, имеющих
                        одинаковую юридическую силу, по одному экземпляру для каждой из Сторон.
                      </p>

                      <p className="mb-2">
                        9.2. Место исполнения обязательств по настоящему Договору Исполнителем указано в приложении 1 к
                        настоящему Договору.
                      </p>

                      <p className="mb-2">
                        9.3. Договор вступает в силу после подписания обеими Сторонами, и действует до{" "}
                        <strong>{formData.contract_end_date_ru || "_____________"}</strong>.
                      </p>
                    </div>
                  </td>
                </tr>

                {/* Раздел 10: Реквизиты Сторон */}
                <tr>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">
                      10. ТАРАПТАРДЫҢ БАНКТІК ДЕРЕКТЕМЕЛЕРІ МЕН ҚОЛДАРЫ
                    </h2>
                    <div>
                      <div className="grid grid-cols-2 gap-6">
                        <div>
                          <p className="font-bold mb-2">Тапсырыс беруші:</p>
                          <p className="mb-1">
                            <strong>{userData?.full_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            Банк: <strong>{userData?.organization_bank_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            ИИК (IBAN): <strong>{userData?.organization_iban || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            БИК: <strong>{userData?.organization_bik || "_____________"}</strong>
                          </p>
                          <div className="border-t border-black mt-4 mb-2 w-48"></div>
                          <p className="mb-1">
                            <strong>{formData.contract_date || "_____________"}</strong>
                          </p>
                        </div>
                        <div>
                          <p className="font-bold mb-2">Орындаушы:</p>
                          <p className="mb-1">
                            <strong>{formData.executor_full_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            Банк: <strong>{formData.executor_bank_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            ЖСК: <strong>{formData.executor_iban || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            БСК: <strong>{formData.executor_bik || "_____________"}</strong>
                          </p>
                          <div className="border-t border-black mt-4 mb-2 w-48"></div>
                          <p className="mb-1">
                            <strong>{formData.contract_date || "_____________"}</strong>
                          </p>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td className="p-4 border border-gray-300 align-top">
                    <h2 className="text-xl font-bold text-center mb-4">10. РЕКВИЗИТЫ И ПОДПИСИ СТОРОН</h2>
                    <div>
                      <div className="grid grid-cols-2 gap-6">
                        <div>
                          <p className="font-bold mb-2">Заказчик:</p>
                          <p className="mb-1">
                            <strong>{userData?.full_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            Банк: <strong>{userData?.organization_bank_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            ИИК (IBAN): <strong>{userData?.organization_iban || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            БИК: <strong>{userData?.organization_bik || "_____________"}</strong>
                          </p>
                          <div className="border-t border-black mt-4 mb-2 w-48"></div>
                          <p className="mb-1">
                            <strong>{formData.contract_date || "_____________"}</strong>
                          </p>
                        </div>
                        <div>
                          <p className="font-bold mb-2">Исполнитель:</p>
                          <p className="mb-1">
                            <strong>{formData.executor_full_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            Банк: <strong>{formData.executor_bank_name || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            ИИК: <strong>{formData.executor_iban || "_____________"}</strong>
                          </p>
                          <p className="mb-1">
                            БИК: <strong>{formData.executor_bik || "_____________"}</strong>
                          </p>
                          <div className="border-t border-black mt-4 mb-2 w-48"></div>
                          <p className="mb-1">
                            <strong>{formData.contract_date || "_____________"}</strong>
                          </p>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>

            {/* Приложение: Техническая спецификация */}
            <div className="my-6">
              <div className="text-center mb-4">
                <p className="text-sm mb-2 text-right">Приложение</p>
                <p className="text-sm mb-2 text-right">к Договору возмездного оказания услуг</p>
                <p className="text-sm mb-4 text-right">{formData.contract_date || "_____________"}</p>
                <h2 className="text-xl font-bold">ТЕХНИЧЕСКАЯ СПЕЦИФИКАЦИЯ</h2>
                <p className="text-sm mt-2">на оказание услуги по {formData.service_name || "_____________"}</p>
              </div>

              <div className="mb-4">
                <h3 className="font-bold mb-2">1. Общие требования</h3>
                <p className="mb-2">
                  1.1. Наименование услуги: оказание услуги по{" "}
                  <strong>{formData.service_name || "_____________"}</strong> (далее - Услуга).
                </p>
                <p className="mb-2">
                  1.1. Место оказания Услуг: <strong>{formData.service_location || "_____________"}</strong>.
                </p>
                <p className="mb-2">
                  1.2. Срок оказания Услуги: со дня заключения Договора возмездного оказания услуг по{" "}
                  <strong>{formData.service_period_text || "_____________"}</strong>.
                </p>
                <p className="mb-2">
                  1.3. Исполнитель обязуется по первому требованию Заказчика предоставлять информацию о ходе исполнения
                  обязательств по Договору.
                </p>
                <p className="mb-2">
                  1.4. Право на использование результатов Услуг принадлежит Заказчику. Исполнитель и другие лица без
                  согласия Заказчика не могут использовать результаты и распоряжаться ими.
                </p>
              </div>

              <div className="mb-4">
                <h3 className="font-bold mb-2">2. Объем Услуг</h3>
                <p className="mb-2">2.1. Услуга включает в себя:</p>
                <ul className="list-inside ml-6 mb-2">
                  {(formData.services || []).map((service, index) => (
                    <li key={index}>
                      {index + 1}) <strong>{service.service_name || "_____________"}</strong>;
                    </li>
                  ))}
                </ul>
              </div>

              <div className="mb-4">
                <h3 className="font-bold mb-2">3. Сроки оказания Услуги и условия оплаты</h3>
                <table className="w-full border-collapse border border-gray-300 mb-4">
                  <thead>
                    <tr className="bg-gray-100">
                      <th className="border border-gray-300 p-2 text-left">№ п/п</th>
                      <th className="border border-gray-300 p-2 text-left">Наименование услуги</th>
                      <th className="border border-gray-300 p-2 text-left">Форма завершения</th>
                      <th className="border border-gray-300 p-2 text-left">Срок оказания</th>
                      <th className="border border-gray-300 p-2 text-left">Сумма к оплате (тенге)</th>
                    </tr>
                  </thead>
                  <tbody>
                    {(formData.services || []).map((service, index) => {
                      const formattedStartDate = service.start_date ? formatDateDDMMYYYY(service.start_date) : "";
                      const formattedEndDate = service.end_date ? formatDateDDMMYYYY(service.end_date) : "";
                      const dateRange =
                        formattedStartDate && formattedEndDate
                          ? `${formattedStartDate} - ${formattedEndDate}`
                          : formattedStartDate || formattedEndDate || "_____________";
                      return (
                        <tr key={index}>
                          <td className="border border-gray-300 p-2">{index + 1}</td>
                          <td className="border border-gray-300 p-2">
                            <strong>{service.service_name || "_____________"}</strong>
                          </td>
                          <td className="border border-gray-300 p-2">Отчет об оказанных услугах</td>
                          <td className="border border-gray-300 p-2">
                            <strong>{dateRange}</strong>
                          </td>
                          <td className="border border-gray-300 p-2">
                            <strong>{service.price ? formatPrice(service.price) : "_____________"}</strong>
                          </td>
                        </tr>
                      );
                    })}
                  </tbody>
                </table>
              </div>

              <div className="mb-4">
                <h3 className="font-bold mb-2">4. Сроки предоставления отчета об оказанных услугах</h3>
                <table className="w-full border-collapse border border-gray-300">
                  <thead>
                    <tr className="bg-gray-100">
                      <th className="border border-gray-300 p-2 text-left">№ п/п</th>
                      <th className="border border-gray-300 p-2 text-left">Форма завершения</th>
                      <th className="border border-gray-300 p-2 text-left">Дата сдачи отчета</th>
                    </tr>
                  </thead>
                  <tbody>
                    {(formData.services || []).map((service, index) => {
                      const formattedEndDate = service.end_date ? formatDateDDMMYYYY(service.end_date) : "";
                      return (
                        <tr key={index}>
                          <td className="border border-gray-300 p-2">{index + 1}</td>
                          <td className="border border-gray-300 p-2">Отчет об оказанных услугах</td>
                          <td className="border border-gray-300 p-2">
                            <strong>{formattedEndDate || "_____________"}</strong>
                          </td>
                        </tr>
                      );
                    })}
                  </tbody>
                </table>
              </div>
            </div>

            {/* Раздел 5: Порядок предоставления отчета */}
            <div className="mb-6">
              <h2 className="text-xl font-bold text-center mb-4">
                5. ПОРЯДОК ПРЕДОСТАВЛЕНИЯ ОТЧЕТА ОБ ОКАЗАННЫХ УСЛУГАХ, АКТА ОКАЗАННЫХ УСЛУГ И НАПРАВЛЕНИЯ УВЕДОМЛЕНИИ
              </h2>

              <p className="mb-2">
                5.1. Исполнитель имеет право на досрочное предоставление Услуг, указанных в Приложении к Договору. В
                случае досрочного предоставления Заказчик имеет право на досрочное принятие услуг и оплату их согласно
                условиям Договора. Отказ от досрочного предоставления допускается, если принятие невозможно.
              </p>

              <p className="mb-2">
                5.2. Исполнитель предоставляет отчет об оказанных услугах в сроки, указанные в разделе 4 Технической
                Спецификации к настоящему Договору.
              </p>

              <p className="mb-2">
                5.3. Заказчик обязан рассмотреть и утвердить отчет Исполнителя об оказанных услугах в течение 5 (пяти)
                рабочих дней. При обнаружении замечаний или недостатков в оказанных услугах, Заказчик обязан уведомить
                Исполнителя в письменной форме. Исполнитель обязан устранить указанные замечания в течение 5 (пяти)
                рабочих дней с момента получения уведомления.
              </p>

              <p className="mb-2">5.4. Отчеты об оказанных услугах предоставляются в 2 (двух) бумажных экземплярах.</p>

              <p className="mb-2">
                5.5. Исполнитель предоставляет Заказчику Акт оказанных услуг в течение 3 (трех) рабочих дней после
                утверждения Заказчиком отчета об оказанных услугах.
              </p>

              <p className="mb-2">
                5.6. Заказчик обязан подписать Акт оказанных услуг или отказаться от принятия, предоставив обоснованные
                обоснования непринятия, в течение 5 (пяти) рабочих дней.
              </p>

              <p className="mb-2">
                5.7. Любая Сторона, нарушившая свои обязательства по настоящему Договору, обязана незамедлительно
                устранить такие нарушения.
              </p>
            </div>
          </div>
        </div>

        <div className="flex justify-end gap-3 mt-6 p-1">
          {error && <Toast color="negative" text={error} />}
          {readOnly ? (
            <Button variant="secondary" size="lg" onClick={onClose}>
              {t("forms.paidServiceContract.back")}
            </Button>
          ) : (
            <>
              <Button variant="secondary" size="lg" onClick={onClose}>
                {t("forms.paidServiceContract.back")}
              </Button>

              <Button variant="primary" size="lg" disabled={isSubmitting} onClick={handleSubmit}>
                {isSubmitting ? t("forms.paidServiceContract.submitting") : t("forms.paidServiceContract.submit")}
              </Button>
            </>
          )}
        </div>
      </div>
      {showSuccessPrompt && (
        <Prompt
          variant="success"
          title={t(
            isEditMode ? "common.prompts.serviceContractUpdated.title" : "common.prompts.serviceContractCreated.title",
          )}
          text={t(
            isEditMode ? "common.prompts.serviceContractUpdated.text" : "common.prompts.serviceContractCreated.text",
          )}
          buttonText={t("common.close")}
          onClose={handleSuccessPromptClose}
          namespace="LegalTemplatesPage"
        />
      )}
    </ModalForm>
  );
}

